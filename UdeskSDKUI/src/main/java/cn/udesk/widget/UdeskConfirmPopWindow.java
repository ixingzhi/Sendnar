package cn.udesk.widget;import android.app.Activity;import android.content.Context;import android.graphics.drawable.ColorDrawable;import android.text.method.LinkMovementMethod;import android.text.method.ScrollingMovementMethod;import android.view.Gravity;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.PopupWindow;import android.widget.TextView;import cn.udesk.R;public class UdeskConfirmPopWindow extends PopupWindow implements View.OnClickListener {    public UdeskConfirmPopWindow(Context context) {        super(context );        setFocusable(true);         setTouchable(true);        setOutsideTouchable(true);         setBackgroundDrawable(new ColorDrawable(context.getResources().getColor(android.R.color.transparent)));            }        public void show(Activity content,View locationView,String positiveLabel,String negativeLabel,String confirmContent,OnPopConfirmClick onPopMultiMenuClick){        try {            LayoutInflater layoutInflater=LayoutInflater.from(content);            mOnPopConfirmClick = onPopMultiMenuClick;            ViewGroup rootView =(ViewGroup) layoutInflater.inflate(R.layout.udesk_confirm_pop_dialog, null);            ViewGroup popupView = (ViewGroup)rootView.findViewById(R.id.udesk_confirm_pop_panel);            TextView ngegativeTv= (TextView)popupView.findViewById(R.id.udesk_confirm_pop_negative);            ngegativeTv.setText(negativeLabel);            ngegativeTv.setOnClickListener(this);            TextView potitiveTv= (TextView)popupView.findViewById(R.id.udesk_confirm_pop_positive);            potitiveTv.setText(positiveLabel);            potitiveTv.setOnClickListener(this);            TextView popcontent = ((TextView)popupView.findViewById(R.id.udesk_confirm_pop_content));            popcontent.setText(confirmContent);            popcontent.setMovementMethod(ScrollingMovementMethod.getInstance());            popcontent.setMovementMethod(LinkMovementMethod.getInstance());            // 把菜单都添加进去            setContentView(rootView);            setWindowLayoutMode(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT);            setWidth( ViewGroup.LayoutParams.WRAP_CONTENT);            setHeight(ViewGroup.LayoutParams.WRAP_CONTENT);            //显示出来            showAtLocation(locationView, Gravity.CENTER , 0,0);        } catch (Exception e) {            e.printStackTrace();        }    }         public void  cancle() {    	try{            dismiss();        } catch (Exception e){            e.printStackTrace();        }	}        @Override    public void onClick(View childView) {        if (mOnPopConfirmClick != null) {            int id = childView.getId();            if (id == R.id.udesk_confirm_pop_positive) {                mOnPopConfirmClick.onPositiveClick();            } else if (id == R.id.udesk_confirm_pop_negative) {                mOnPopConfirmClick.onNegativeClick();            }        }        dismiss();    }            private OnPopConfirmClick mOnPopConfirmClick;    public interface OnPopConfirmClick {         void onPositiveClick( );         void onNegativeClick( );    }}